"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[934],{934:function(t,e,n){n.r(e),n.d(e,{default:function(){return _}});var u=n(433),r=n(861),c=n(439),i=n(757),a=n.n(i),o=n(776),s=n(791),l={button:"Searchbox_button__nBW3e"},f=n(184),h=function(t){var e=t.onSubmit,n=(0,s.useState)(),u=(0,c.Z)(n,2),r=u[0],i=u[1];return(0,f.jsxs)("form",{onSubmit:e,children:[(0,f.jsx)("input",{type:"text",value:r,onInput:function(t){return i(t.currentTarget.value)},className:l.input}),(0,f.jsx)("button",{type:"Submit",onClick:function(){setTimeout((function(){return i("")}),100)},className:l.button,children:"Search"})]})},m=n(87),p=n(689),v=n(175),d="Movies_container__sNK5N",_=function(){var t,e,n=(0,m.lr)(),i=(0,c.Z)(n,2),l=i[0],_=i[1],b=null!==(t=l.get("search"))&&void 0!==t?t:"",g=null!==(e=l.get("page"))&&void 0!==e?e:1,x=(0,s.useState)(b),S=(0,c.Z)(x,2),j=S[0],Z=S[1],k=(0,s.useState)([]),w=(0,c.Z)(k,2),y=w[0],N=w[1],T=(0,s.useState)(null),C=(0,c.Z)(T,2),E=C[0],q=C[1],B=(0,s.useState)(Number(g)),D=(0,c.Z)(B,2),H=D[0],I=D[1],K=(0,p.TH)();(0,s.useEffect)((function(){function t(){return(t=(0,r.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.y3(j,H).then((function(t){q(null),N((function(e){return[].concat((0,u.Z)(e),(0,u.Z)(t))}))})).catch((function(t){q("Nothing was found on your request ".concat(j))}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}j&&(!function(){t.apply(this,arguments)}(),_({search:j,page:H}))}),[j,H,_]);return(0,f.jsxs)("div",{className:d,children:[" ",(0,f.jsx)(h,{onSubmit:function(t){t.preventDefault(),t.currentTarget.elements[0].value?t.currentTarget.elements[0].value!==j&&(N([]),I(1),Z(t.currentTarget.elements[0].value)):alert("Empty searchbar")}}),0!==y.length&&(0,f.jsx)("ul",{children:y.map((function(t){return(0,f.jsx)("li",{children:(0,f.jsx)(m.rU,{to:"/movies/".concat(t.id),state:{from:K},children:t.title})},t.id)}))}),E&&(0,f.jsx)("div",{children:E}),0!==y.length&&(0,f.jsx)(v.f,{onClick:function(){I(H+1)}})]})}}}]);
//# sourceMappingURL=934.7cf1dda8.chunk.js.map